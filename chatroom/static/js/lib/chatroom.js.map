{"version":3,"sources":["../src/chatroom.js"],"names":["get_users","$","ajax","url","type","dataType","data","param1","done","users","console","log","forEach","user","append","name","ip","window","resize","fail","xhr","status","error","random_str","Math","random","toString","substr","i","val","click","event","blur","scrollTop","scrollHeight","empty"],"mappings":"AAAA;;AAEA;;AACA,SAASA,SAAT,GAAqB;AACjBC,MAAEC,IAAF,CAAO;AACHC,aAAK,YADF;AAEHC,cAAM,KAFH;AAGHC,kBAAU,MAHP;AAIHC,cAAM,EAACC,QAAQ,QAAT;AAJH,KAAP,EAMCC,IAND,CAMM,UAASC,KAAT,EAAgB;AAClBC,gBAAQC,GAAR,CAAY,mBAAZ;AACAF,cAAMG,OAAN,CAAc,UAASC,IAAT,EAAe;AACzBZ,cAAE,YAAF,EAAgBa,MAAhB,wDAA4ED,KAAKE,IAAjF,sCAAsHF,KAAKG,EAA3H;AACH,SAFD;AAGAf,UAAEgB,MAAF,EAAUC,MAAV;AACH,KAZD,EAaCC,IAbD,CAaM,UAASC,GAAT,EAAcC,MAAd,EAAsB;AACxBX,gBAAQC,GAAR,CAAY,iBAAZ,EAA+BS,IAAIC,MAAnC,EAA2CA,MAA3C,EAAmD,IAAnD,EAAyDC,KAAzD;AACH,KAfD;AAgBH;AACDtB;;AAEA;AACA,IAAIuB,aAAaC,KAAKC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,IAAuC,GAAxD;AACA,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AACxBL,kBAAcC,KAAKC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,IAAuC,GAArD;AACH;AACD1B,EAAE,UAAF,EAAc4B,GAAd,CAAkBN,UAAlB;;AAEA;AACAtB,EAAE,aAAF,EAAiB6B,KAAjB,CAAuB,UAASC,KAAT,EAAgB;AACnC,SAAKC,IAAL;AACA/B,MAAE,eAAF,EAAmBgC,SAAnB,CAA6B,CAA7B;AACH,CAHD;AAIAhC,EAAE,gBAAF,EAAoB6B,KAApB,CAA0B,UAASC,KAAT,EAAgB;AACtC,SAAKC,IAAL;AACA/B,MAAE,eAAF,EAAmBgC,SAAnB,CAA6BhC,EAAE,eAAF,EAAmB,CAAnB,EAAsBiC,YAAnD;AACH,CAHD;AAIAjC,EAAE,QAAF,EAAY6B,KAAZ,CAAkB,UAASC,KAAT,EAAgB;AAC9B,SAAKC,IAAL;AACA/B,MAAE,eAAF,EAAmBkC,KAAnB;AACH,CAHD","file":"chatroom.js","sourcesContent":["'use strict';\n\n// ========== get user list ==========\nfunction get_users() {\n    $.ajax({\n        url: '/get_users',\n        type: 'GET',\n        dataType: 'json',\n        data: {param1: 'value1'},\n    })\n    .done(function(users) {\n        console.log(\"get_users SUCCESS\");\n        users.forEach(function(user) {\n            $('#user-list').append(`<div class=\"user-wrapper\"><span class=\"user-name\">${user.name}</span>@<span class=\"user-ip\">${user.ip}</span></div>`)\n        })\n        $(window).resize()\n    })\n    .fail(function(xhr, status) {\n        console.log(\"get_users FAIL:\", xhr.status, status, '\\n', error);\n    })\n}\nget_users()\n\n// generate random string\nlet random_str = Math.random().toString(36).substr(2) + ' '\nfor (let i = 0; i < 6; i++) {\n    random_str += Math.random().toString(36).substr(2) + ' '\n}\n$('textarea').val(random_str)\n\n// ========== function pane ==========\n$('#scroll-top').click(function(event) {\n    this.blur()\n    $('#message-list').scrollTop(0)\n})\n$('#scroll-bottom').click(function(event) {\n    this.blur()\n    $('#message-list').scrollTop($('#message-list')[0].scrollHeight)\n})\n$('#clear').click(function(event) {\n    this.blur()\n    $('#message-list').empty()\n})\n"]}